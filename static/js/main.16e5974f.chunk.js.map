{"version":3,"sources":["redux/profile-reducer.ts","api/api.js","redux/dialogs-reducer.ts","components/common/Preloader/Preloader.module.css","components/Users/UsersInfo/UserInfo.module.css","components/Navbar/Navbar.module.css","components/Users/Users.module.css","serviceWorker.js","redux/auth-reducer.ts","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","utils/Login-refactoring-helper.js","components/Login/Login.jsx","components/Music/Music.jsx","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Settings/Settings.jsx","utils/object-helpers-for-user-reducers.js","redux/users-reducer.ts","components/common/Paginator/Paginator.tsx","components/Users/User.jsx","components/Users/images/user.jpg","components/Users/Users.tsx","components/Users/UsersInfo/UserInfo.jsx","redux/user-selectors.ts","components/Users/UsersContainer.tsx","redux/app-reducer.ts","redux/sidebar-reducer.ts","redux/redux-store.ts","hoc/withSuspense.js","App.js","index.js","components/common/Paginator/Paginator.module.css","components/common/FormsControls/FormsControls.js","components/common/FormsControls/FormsControls.module.css","utils/validators/validators.js","assets/images/preloader.svg","components/common/Preloader/Preloader.js","components/Header/Header.module.css"],"names":["ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","initialState","postsData","id","message","likesCount","profile","status","newPostText","addPostActionCreator","type","setStatus","getUserProfile","userId","dispatch","a","usersAPI","getProfile","response","data","getStatus","profileAPI","updateStatus","resultCode","savePhoto","file","photos","saveProfile","getState","auth","stopSubmit","messages","Promise","reject","profileReducer","state","action","newPost","filter","p","postId","instance","Axios","withCredentials","baseURL","headers","getUsers","currentPage","pageSize","get","then","follow","post","unfollow","delete","console","warn","put","photoFile","formData","FormData","append","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","SEND_MESSAGE","dialogsData","name","messageData","sendMessageCreator","newMessageBody","dialogsReducer","body","module","exports","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","log","onUpdate","onSuccess","catch","error","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","isAuth","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserData","url","authReducer","Header","props","className","classes","header","loginBlock","onClick","to","HeaderContainer","this","React","Component","connect","createField","placeholder","validators","component","text","Field","validate","LoginReduxForm","reduxForm","form","handleSubmit","onSubmit","required","Input","src","alt","style","formSummaryError","length","_error","Music","Navbar","nav","item","active","activeClassName","activeLink","News","Settings","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_REQUESTED_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","usersData","totalItemsCount","requestedPage","toggleIsFetching","followingInProgress","followSuccess","unfollowSuccess","setRequestedPage","isFetching","toggleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","usersReducer","followed","count","Paginator","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","cn","styles","paginator","prevnext","selectedPage","pageNumber","e","User","user","userBlock","avatar","small","button","disabled","some","namestyle","Users","totalUsersCount","usersPageBlock","UserInfo","picture","createSelector","usersPage","getPageSize","getTotalUsersCount","getRequestedPage","getToggleIsFetching","getFollowingInProgress","UsersContainer","Preloader","preloader","pageTitle","userInfo","compose","bind","totalCount","INITIALIZED_SUCCESS","initialized","appReducer","sideBarReducer","rootReducer","combineReducers","profilePage","dialogsPage","sidebar","sidebarReducer","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspense","fallback","ProfileContainer","lazy","DialogsContainer","App","catchAllUnhandledErrors","promiseRejectionEvent","initializeApp","addEventListener","removeEventListener","exact","path","render","AppContainer","withRouter","promise","all","SamuraiJSAp","ReactDOM","document","getElementById","URL","process","href","origin","fetch","contentType","indexOf","ready","unregister","reload","checkValidServiceWorker","FormControl","input","meta","touched","children","hasError","formControl","Textarea","restProps","child","value","maxLengthCreator","maxLength","animation"],"mappings":"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","file":"static/js/main.16e5974f.chunk.js","sourcesContent":["import { stopSubmit } from \"redux-form\";\r\nimport { usersAPI, profileAPI } from \"../api/api\";\r\nimport { PostType, ProfileType, PhotosType } from \"../types/types\";\r\n//import { InitialStateType } from './auth-reducer';\r\n\r\nconst ADD_POST = 'ADD_POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\r\n\r\n//let sum = (a = -1 , b = 0 ) => {\r\n//  return a + b;}\r\n//sum(); \r\n//state is not defined so we need give something initial\r\n\r\nlet initialState = {\r\n    postsData: [\r\n        { id: 1, message: \"Hi, How is it going?\", likesCount: 11 },\r\n        { id: 2, message: \"Hi, How r u?\", likesCount: 12 }\r\n    ] as Array<PostType>,\r\n    profile: null as ProfileType | null,\r\n    status: '',\r\n    newPostText: ''\r\n}\r\nexport type InitialStateType = typeof initialState;\r\n\r\nconst profileReducer = (state = initialState, action: any) => {\r\n    switch (action.type) {\r\n\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 3,\r\n                message: action.newPostText,\r\n                likesCount: 0\r\n            };\r\n            //let stateCopy = {}\r\n            return {\r\n                ...state, //creating copy of initial state\r\n                postsData: [...state.postsData, newPost],\r\n                newPostText: ''\r\n\r\n            };\r\n            //state.postsData.push(newPost);\r\n            //stateCopy.postsData = [...state.postsData]; //creating new array which is equal to old array\r\n            //stateCopy.postsData.push(newPost); //and newPost will be pushed into copy array(newArray)\r\n            //state.newPostText = '';\r\n            //return state;\r\n            //stateCopy.newPostText = '';\r\n            //return stateCopy;\r\n        }\r\n\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state,\r\n                postsData: state.postsData.filter(p => p.id !== action.postId)\r\n            }\r\n        }\r\n\r\n        case SAVE_PHOTO_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                profile: { ...state.profile, photos: action.photos } as ProfileType\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\n//ActionCreators:\r\n\r\n//1\r\ntype AddPostActionCreatorActionType = {\r\n    type: typeof ADD_POST\r\n    newPostText: string}\r\nexport const addPostActionCreator = (newPostText: string): AddPostActionCreatorActionType => ({ type: ADD_POST, newPostText });\r\n//2\r\ntype SetUserProfileActionType = {\r\n    type: typeof SET_USER_PROFILE\r\n    profile: ProfileType\r\n}\r\nexport const setUserProfile = (profile: ProfileType): SetUserProfileActionType => ({ type: SET_USER_PROFILE, profile: profile });\r\n//3\r\ntype SetStatusActionType = {\r\n    type: typeof SET_STATUS\r\n    status: string\r\n}\r\nexport const setStatus = (status: string): SetStatusActionType => ({ type: SET_STATUS, status: status });\r\n//4\r\ntype DeletePostActionType = {\r\n    type: typeof DELETE_POST\r\n    postId: number\r\n}\r\nexport const deletePost = (postId: number): DeletePostActionType => ({ type: DELETE_POST, postId });\r\n//5\r\ntype SavePhotoSuccessActionType = {\r\n    type: typeof SAVE_PHOTO_SUCCESS\r\n    photos: PhotosType\r\n}\r\nexport const savePhotoSuccess = (photos: PhotosType): SavePhotoSuccessActionType => ({ type: SAVE_PHOTO_SUCCESS, photos });\r\n\r\n//thunk:\r\nexport const getUserProfile = (userId: number) => async (dispatch: any) => {\r\n    let response = await usersAPI.getProfile(userId)\r\n    //.then(response => {\r\n    dispatch(setUserProfile(response.data))\r\n    //});\r\n}\r\n\r\nexport const getStatus = (userId: number) => async (dispatch: any) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatus(response.data))\r\n}\r\n\r\nexport const updateStatus = (status: string) => async (dispatch: any) => {\r\n    try {\r\n        let response = await profileAPI.updateStatus(status)\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setStatus(status))\r\n        }\r\n    } catch (error) {\r\n        //dispatch \r\n    }\r\n}\r\n\r\nexport const savePhoto = (file: any) => async (dispatch: any) => {\r\n    let response = await profileAPI.savePhoto(file)\r\n\r\n    if (response.data.resultCode === 0) {  //uploaded photo of profile will come in data \r\n        dispatch(savePhotoSuccess(response.data.data.photos))\r\n    }\r\n} \r\n\r\nexport const saveProfile = (profile: PhotosType) => async (dispatch: any, getState: any) => {\r\n    const userId = getState().auth.userId\r\n    const response = await profileAPI.saveProfile(profile)\r\n\r\n    if (response.data.resultCode === 0) {  //uploaded photo of profile will come in data\r\n        dispatch(getUserProfile(userId))\r\n    } else {\r\n        dispatch(stopSubmit(\"edit-profile\", { \"contacts\": { \"facebook\": response.data.messages[0] } })) //error facebook form\r\n        //dispatch(stopSubmit(\"edit-profile\", {_error: response.data.messages[0]}))     //general error\r\n        return Promise.reject(response.data.messages[0])\r\n    }\r\n}\r\n\r\nexport default profileReducer;","//DAL- Data access layer\r\nimport * as Axios from 'axios';\r\n\r\nconst instance = Axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": \"6575ca7d-1a97-4a7e-89d5-ab13a1584d2f\"\r\n    }\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 100) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    }, \r\n\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`);\r\n    },\r\n\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`);\r\n    },\r\n\r\n    getProfile(userId) {\r\n        console.warn('Obsolete method. Please use profileAPI object')\r\n        return profileAPI.getProfile(userId)\r\n    }\r\n\r\n}\r\n\r\nexport const profileAPI = {\r\n\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId)\r\n    },\r\n\r\n    getStatus(userId) {\r\n        return instance.get('profile/status/' + userId)\r\n    },\r\n\r\n    updateStatus(status) {\r\n        return instance.put('profile/status', { status: status })\r\n    },\r\n\r\n    savePhoto(photoFile) {\r\n        var formData = new FormData()\r\n        formData.append(\"image\", photoFile )\r\n        return instance.put('profile/photo', formData, {\r\n            'Content-Type': 'multipart/form-data'\r\n        })\r\n    },\r\n\r\n    saveProfile(profile) {\r\n        return instance.put('/profile', profile )\r\n    }\r\n\r\n}\r\n\r\nexport const authAPI = {\r\n    me() { return instance.get(`auth/me`) },\r\n    login(email, password, rememberMe = false, captcha = null) {\r\n        return instance.post(`auth/login`, { email, password, rememberMe, captcha })\r\n    },\r\n    logout() {return instance.delete(`auth/login`)}\r\n}\r\n\r\nexport const securityAPI = {\r\n    \r\n    getCaptchaUrl() { \r\n        return instance.get(`security/get-captcha-url`) \r\n    \r\n    }\r\n}","//import { sendMessageCreator } from './dialogs-reducer';\r\n//import { InitialStateType } from './auth-reducer';\r\nconst SEND_MESSAGE = 'SEND_MESSAGE'; //name of action\r\n\r\ntype DialogType = {\r\n    id: number\r\n    name: string\r\n}\r\n\r\ntype MessageType = {\r\n    id: number\r\n    message: string\r\n}\r\n\r\nlet initialState = {\r\n    dialogsData:    //dialogs\r\n        [\r\n            { id: 1, name: 'Aiya' },\r\n            { id: 2, name: 'Kumar' },\r\n            { id: 3, name: 'Balgyn' },\r\n            { id: 4, name: 'Meir' },\r\n            { id: 5, name: 'Dana' },\r\n            { id: 6, name: 'Mura' }\r\n        ] as Array<DialogType>,\r\n    messageData:    //messages\r\n        [\r\n            { id: 1, message: \"Yo\" },\r\n            { id: 2, message: \"How is your IT KA project? \" },\r\n            { id: 3, message: \"Hi\" },\r\n            { id: 4, message: \"Hi bratishka\" },\r\n            { id: 5, message: \"Hey\" }\r\n        ] as Array<MessageType>\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\nconst dialogsReducer = (state = initialState, action: any) => {\r\n    //switch used instead of if else because we are using discrete constants.\r\n\r\n    //    let stateCopy;\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE: {\r\n            //explanation in profile reducer\r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state,   //spread shell copy\r\n                messageData: [...state.messageData, { id: 6, message: body }] //precise copy\r\n                //... spread operator\r\n            }\r\n            //stateCopy.messageData.push();\r\n            //return stateCopy;\r\n        }\r\n        //let body = state.newMessageBody;\r\n        //state.newMessageBody = '';\r\n        //state.messageData.push({ id: 6, message: body });\r\n        //return state;\r\n        //this._callSubscriber(this._state); //_callSubscriber says about changes in _state to outside of store.\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\ntype SendMessageCreatorActionType = {\r\n    type: typeof SEND_MESSAGE\r\n    newMessageBody: string\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody: string): SendMessageCreatorActionType => ({ type: SEND_MESSAGE, newMessageBody: newMessageBody });\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"animation\":\"Preloader_animation__SmtaL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"picture\":\"UserInfo_picture__1KCbr\",\"item\":\"UserInfo_item__1rzGa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1Q94K\",\"item\":\"Navbar_item__1kPpD\",\"activeLink\":\"Navbar_activeLink__2Qilz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPageBlock\":\"Users_usersPageBlock__2bhFp\",\"avatar\":\"Users_avatar__34tmj\",\"button\":\"Users_button__21atd\",\"namestyle\":\"Users_namestyle___9FVC\",\"item\":\"Users_item__2QcIo\",\"textareaSize\":\"Users_textareaSize__1IMc2\",\"selectedPage\":\"Users_selectedPage__1uIGz\",\"preloader\":\"Users_preloader__kULPc\",\"pageTitle\":\"Users_pageTitle__1NmvL\",\"userInfo\":\"Users_userInfo__17kVZ\"};","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n    window.location.hostname === 'localhost' ||\r\n      // [::1] is the IPv6 localhost address.\r\n      window.location.hostname === '[::1]' ||\r\n      // 127.0.0.0/8 are considered localhost for IPv4.\r\n      window.location.hostname.match(\r\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n      )\r\n  );\r\n\r\nexport function register(config) {\r\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n      // The URL constructor is available in all browsers that support SW.\r\n      const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n      if (publicUrl.origin !== window.location.origin) {\r\n        // Our service worker won't work if PUBLIC_URL is on a different origin\r\n        // from what our page is served on. This might happen if a CDN is used to\r\n        // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n        return;\r\n      }\r\n  \r\n      window.addEventListener('load', () => {\r\n        const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n  \r\n        if (isLocalhost) {\r\n          // This is running on localhost. Let's check if a service worker still exists or not.\r\n          checkValidServiceWorker(swUrl, config);\r\n  \r\n          // Add some additional logging to localhost, pointing developers to the\r\n          // service worker/PWA documentation.\r\n          navigator.serviceWorker.ready.then(() => {\r\n            console.log(\r\n              'This web app is being served cache-first by a service ' +\r\n                'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n            );\r\n          });\r\n        } else {\r\n          // Is not localhost. Just register service worker\r\n          registerValidSW(swUrl, config);\r\n        }\r\n      });\r\n    }\r\n}\r\n  \r\nfunction registerValidSW(swUrl, config) {\r\n    navigator.serviceWorker\r\n      .register(swUrl)\r\n      .then(registration => {\r\n        registration.onupdatefound = () => {\r\n          const installingWorker = registration.installing;\r\n          if (installingWorker == null) {\r\n            return;\r\n          }\r\n          installingWorker.onstatechange = () => {\r\n            if (installingWorker.state === 'installed') {\r\n              if (navigator.serviceWorker.controller) {\r\n                // At this point, the updated precached content has been fetched,\r\n                // but the previous service worker will still serve the older\r\n                // content until all client tabs are closed.\r\n                console.log(\r\n                  'New content is available and will be used when all ' +\r\n                    'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n                );\r\n  \r\n                // Execute callback\r\n                if (config && config.onUpdate) {\r\n                  config.onUpdate(registration);\r\n                }\r\n              } else {\r\n                // At this point, everything has been precached.\r\n                // It's the perfect time to display a\r\n                // \"Content is cached for offline use.\" message.\r\n                console.log('Content is cached for offline use.');\r\n  \r\n                // Execute callback\r\n                if (config && config.onSuccess) {\r\n                  config.onSuccess(registration);\r\n                }\r\n              }\r\n            }\r\n          };\r\n        };\r\n      })\r\n      .catch(error => {\r\n        console.error('Error during service worker registration:', error);\r\n      });\r\n  }\r\n\r\n  function checkValidServiceWorker(swUrl, config) {\r\n    // Check if the service worker can be found. If it can't reload the page.\r\n    fetch(swUrl, {\r\n      headers: { 'Service-Worker': 'script' },\r\n    })\r\n      .then(response => {\r\n        // Ensure service worker exists, and that we really are getting a JS file.\r\n        const contentType = response.headers.get('content-type');\r\n        if (\r\n          response.status === 404 ||\r\n          (contentType != null && contentType.indexOf('javascript') === -1)\r\n        ) {\r\n          // No service worker found. Probably a different app. Reload the page.\r\n          navigator.serviceWorker.ready.then(registration => {\r\n            registration.unregister().then(() => {\r\n              window.location.reload();\r\n            });\r\n          });\r\n        } else {\r\n          // Service worker found. Proceed as normal.\r\n          registerValidSW(swUrl, config);\r\n        }\r\n      })\r\n      .catch(() => {\r\n        console.log(\r\n          'No internet connection found. App is running in offline mode.'\r\n        );\r\n      });\r\n  }\r\n  \r\nexport function unregister() {\r\n    if ('serviceWorker' in navigator) {\r\n      navigator.serviceWorker.ready\r\n        .then(registration => {\r\n          registration.unregister();\r\n        })\r\n        .catch(error => {\r\n          console.error(error.message);\r\n        });\r\n    }\r\n}","import { stopSubmit } from \"redux-form\";\r\nimport { authAPI, securityAPI } from \"../api/api\";\r\n//import { InitialStateType } from './app-reducer';\r\n\r\nconst SET_USER_DATA = 'samurai-network/auth/SET_USER_DATA';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'samurai-network/auth/GET_CAPTCHA_URL_SUCCESS';\r\n/*\r\n    first method: define type\r\nexport type InitialStateType2 = {\r\n    userId: number | null,\r\n    email: string | null,\r\n    login: string | null,\r\n    isAuth: Boolean,\r\n    captchaUrl: string | null\r\n} \r\n*/\r\n//let initialState: InitialStateType = {\r\n\r\nlet initialState= {\r\n    userId: null as number | null,\r\n    email: null as string | null,\r\n    login: null as string | null,\r\n    isAuth: false,\r\n    captchaUrl: null as string | null  // if null, then captcha is not required\r\n    //isFetching: true\r\n} \r\n\r\n//second method: get type that is defined \"itself\"\r\nexport type InitialStateType = typeof initialState;\r\n\r\nconst authReducer = (state = initialState, action: any): InitialStateType => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n                //isAuth: true //should be deleted since in payload \r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\ntype SetAuthUserDataActionPayloadType = {\r\n    userId: number | null,\r\n    email: string | null,\r\n    login: string | null,\r\n    isAuth: boolean\r\n}\r\n\r\ntype SetAuthUserDataActionType = { \r\n    type: typeof SET_USER_DATA, //value of it, not type\r\n    payload: SetAuthUserDataActionPayloadType\r\n}\r\n\r\n//actionCreators. AC abbreviation deleted at the end of words\r\nexport const setAuthUserData = (userId: number | null, email: string | null, login: string | null, isAuth: boolean): SetAuthUserDataActionType => ({ type: SET_USER_DATA, payload: { userId, email, login, isAuth } });\r\n\r\ntype GetCaptchaUrlSuccessActionType = { \r\n    type: typeof GET_CAPTCHA_URL_SUCCESS, \r\n    payload: { captchaUrl: string } \r\n}\r\n\r\n//мы диспатчим именно экшны объекты\r\nexport const getCaptchaUrlSuccess = (captchaUrl: string): GetCaptchaUrlSuccessActionType => ({ type: GET_CAPTCHA_URL_SUCCESS, payload: { captchaUrl } });\r\n\r\n//thunkCreator:\r\nexport const getAuthUserData = () => async (dispatch: any) => {\r\n    let response = await authAPI.me()\r\n    //.then(response => {\r\n    if (response.data.resultCode === 0) {\r\n        let { id, login, email } = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true))\r\n    }\r\n    //})\r\n}\r\n\r\n//thunkCreator to login from site not from server site\r\nexport const login = (email: string, password: string, rememberMe: boolean, captcha: string) => async (dispatch: any) => {\r\n\r\n    let response = await authAPI.login(email, password, rememberMe, captcha)\r\n    //.then(response => {\r\n    if (response.data.resultCode === 0) {\r\n        // success, get auth data\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(getCaptchaUrl())\r\n        }\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n        dispatch(stopSubmit(\"login\", { _error: message }));\r\n    }\r\n    //})\r\n}\r\n\r\n//thunkCreator\r\nexport const getCaptchaUrl = () => async (dispatch: any) => {\r\n\r\n    const response = await securityAPI.getCaptchaUrl()\r\n    const captchaUrl = response.data.url;\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl))\r\n}\r\n\r\nexport const logout = () => async (dispatch: any) => {\r\n    let response = await authAPI.logout()\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n}\r\n\r\nexport default authReducer;","import { NavLink } from 'react-router-dom';\r\nimport classes from './Header.module.css';\r\n//import disney from '../../images/disney.JPG'\r\n\r\nconst Header = (props) => {\r\n\r\n  return <header className={classes.header}>\r\n\r\n    <div className={classes.loginBlock}>\r\n      {props.isAuth\r\n        ? <div>{props.login} - <button onClick={props.logout}>Log out</button></div>\r\n        : <NavLink to={'/login'} >Login</NavLink>\r\n      }\r\n    </div>\r\n  </header>\r\n}\r\n\r\nexport default Header; ","//import Axios from 'axios';\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '../../redux/auth-reducer';\r\nimport Header from './Header';\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n  render() {\r\n    return <Header {...this.props} />\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login\r\n});\r\n\r\nexport default connect(mapStateToProps, { logout })(HeaderContainer);","import React from 'react';\r\nimport { Field } from 'redux-form';\r\n\r\nexport const createField = (placeholder, name, validators, component, props = {}, text = \"\") => (\r\n    <div>\r\n        <Field placeholder={placeholder} name={name}\r\n            validate={validators} component={component} \r\n            {...props}\r\n            /> {text}\r\n    </div>\r\n)","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { reduxForm } from 'redux-form';\r\n//import LoginForm from './LoginForm';\r\nimport { login } from \"../../redux/auth-reducer\";\r\n\r\n//import { Field } from 'redux-form';\r\nimport { required } from '../../utils/validators/validators';\r\nimport { Input } from '../common/FormsControls/FormsControls';\r\nimport { Redirect } from 'react-router-dom';\r\nimport style from \"../common/FormsControls/FormsControls.module.css\";\r\nimport { createField } from '../../utils/Login-refactoring-helper';\r\n\r\nconst LoginForm = ({ handleSubmit, error, captchaUrl }) => {\r\n    return (\r\n        <form onSubmit={handleSubmit} >\r\n\r\n            {createField(\"Email\", \"email\", [required], Input)}\r\n            {createField(\"Password\", \"password\", [required], Input, { type: \"password\" })}\r\n            {createField(null, \"rememberMe\", [], Input, { type: \"checkbox\" }, \"remember me\")}\r\n\r\n            {captchaUrl && <img src={captchaUrl} alt=\"captcha\" />}\r\n            {captchaUrl && createField(\"Symbols from image\", \"captcha\", [required], Input, {})}\r\n\r\n            { error && <div className={style.formSummaryError}>\r\n                {error}\r\n            </div>\r\n            }\r\n\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>)\r\n}\r\n\r\n//unique name for form\r\nconst LoginReduxForm = reduxForm({ form: 'login' })(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha); //callback login\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"} />\r\n    }\r\n\r\n    return <div>\r\n        <h1>Login</h1> \r\n        <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    captchaUrl: state.auth.captchaUrl,\r\n    isAuth: state.auth.isAuth\r\n})\r\n//thunkCreator login\r\nexport default connect(mapStateToProps, { login })(Login);","import React from 'react';\r\n\r\nconst Music = (props) => {\r\n    return (\r\n        <div>\r\n            <p>Music</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport classes from './Navbar.module.css';\r\n//console.log(classes)    this line to check that each key of classes has its unique name\r\n//let classes {\r\n//    'nav': 'its unique name',    \r\n//    'item': 'its unique another name',\r\n//    'active': 'new unique name'\r\n//}\r\n\r\n//let c1=\"item\";\r\n//let c2 = \"active\";\r\n//   to have this \"item active\", we need to write next:\r\n//let c = c1 + \" \" + c2\r\n//let classesUsed = {`${classes.item} ${classes.active}`}\r\n// {`${classes.item} ${classes.active}`} we put instead of classes.item if we want unique style for separate word\r\n\r\nconst Navbar = () => {\r\n  return <nav className={classes.nav}>\r\n\r\n    <div className={`${classes.item} ${classes.active}`}>\r\n      <NavLink to=\"/profile\" activeClassName={classes.activeLink}>Profile</NavLink>\r\n    </div>\r\n\r\n    <div className={`${classes.item} ${classes.active}`}>\r\n      <NavLink to=\"/dialogs\" activeClassName={classes.activeLink}>Messages</NavLink>\r\n    </div>\r\n\r\n    <div className={classes.item}>\r\n      <NavLink to='/users' activeClassName={classes.activeLink}>Users</NavLink>\r\n    </div>\r\n\r\n    <div className={classes.item}>\r\n      <NavLink to='/music' activeClassName={classes.activeLink}>Music</NavLink>\r\n    </div>\r\n\r\n    <div className={classes.item}>\r\n      <NavLink to='/news' activeClassName={classes.activeLink}>News</NavLink>\r\n    </div>\r\n\r\n    <div className={classes.item}>\r\n      <NavLink to='/settings' activeClassName={classes.activeLink}>Settings</NavLink>\r\n    </div>\r\n\r\n  </nav>\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div>\r\n            <p>News</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","import React from 'react';\r\n\r\nconst Settings = (props) => {\r\n    return (\r\n        <div>\r\n            <p>Settings</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return { ...u, ...newObjProps }      //we want change only following status, nothing more by clicking on button follow, un follow\r\n        }\r\n        return u;\r\n    })\r\n}","//import { followSuccess, unfollowSuccess, setRequestedPage, setTotalUsersCount } from './users-reducer';\r\nimport { usersAPI } from '../api/api';\r\nimport { updateObjectInArray } from '../utils/object-helpers-for-user-reducers';\r\nimport { UserType } from '../types/types';\r\n\r\n//const ADD_USERS = 'ADD_USERS';\r\n//const UPDATE_NEW_USERS = 'UPDATE_NEW_USERS';\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_REQUESTED_PAGE = 'SET_REQUESTED_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    usersData: [] as Array<UserType>,\r\n    pageSize: 100,\r\n    totalItemsCount: 0,\r\n    requestedPage: 1,\r\n    toggleIsFetching: true,\r\n    followingInProgress: [] as Array<number>,   //array of users id\r\n    //    newUsers: 'IT_KA.Users'\r\n}\r\n\r\ntype InitialState = typeof initialState;\r\n\r\nconst usersReducer = (state = initialState, action: any): InitialState=> {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                //users: [...state.users],same as: users: state.users.map( callbackfn: u => u)  cause copy whole array and change whole object users.\r\n                usersData: updateObjectInArray(state.usersData, action.id, \"id\", { followed: true })\r\n                /*\r\n                usersData: state.usersData.map(u => {\r\n                    if (u.id === action.id) {\r\n                        return { ...u, followed: true }      //we want change only following status, nothing more by clicking on button follow, un follow\r\n                    }\r\n                    return u;\r\n                })\r\n                */\r\n            }\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                usersData: updateObjectInArray(state.usersData, action.id, \"id\", { followed: false })\r\n                /*\r\n                usersData: state.usersData.map(u => {\r\n                    if (u.id === action.id) {\r\n                        return { ...u, followed: false }      //we want change only following status, nothing more by clicking on button follow, un follow\r\n                    }\r\n                    return u;\r\n                })\r\n                */\r\n            }\r\n\r\n        case SET_USERS: {\r\n            return {\r\n                ...state,\r\n                //usersData: [...state.usersData, ...action.usersData] //adds all users at the end of first page\r\n                usersData: action.usersData //adds all users each time on different next page.\r\n                // state.users - that already have been inside, action.users - new users that were created.\r\n            }\r\n        }\r\n\r\n        case SET_REQUESTED_PAGE: {\r\n            return {\r\n                ...state, requestedPage: action.requestedPage // state.users - that already have been inside, action.users - new users that were created.\r\n            }\r\n        }\r\n\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {\r\n                ...state, totalItemsCount: action.count // state.users - that already have been inside, action.users - new users that were created.\r\n            }\r\n        }\r\n\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {\r\n                ...state, toggleIsFetching: action.toggleIsFetching // state.users - that already have been inside, action.users - new users that were created.\r\n            }\r\n        }\r\n\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [state.followingInProgress, action.id] //if isFetching true then we destructure and add at the end id which is in action\r\n                    : state.followingInProgress.filter(id => id !== action.id) //if false then we create new array with filter\r\n                // state.users - that already have been inside, action.users - new users that were created.\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n//actionCreators. AC abreviation deleted at the end of words\r\n//1\r\ntype FollowSuccessActionType = {\r\n    type: typeof FOLLOW\r\n    id: number\r\n}\r\nexport const followSuccess = (id: number): FollowSuccessActionType => ({ type: FOLLOW, id })\r\n//2\r\ntype UnfollowSuccessActionType = {\r\n    type: typeof UNFOLLOW\r\n    id: number\r\n}\r\nexport const unfollowSuccess = (id: number): UnfollowSuccessActionType => ({ type: UNFOLLOW, id })\r\n//3\r\ntype SetUsersActionType = {\r\n    type: typeof SET_USERS\r\n    usersData: Array<UserType>\r\n}\r\nexport const setUsers = (usersData: Array<UserType>): SetUsersActionType => ({ type: SET_USERS, usersData })\r\n//4\r\ntype SetRequestedPageActionType = {\r\n    type: typeof SET_REQUESTED_PAGE\r\n    requestedPage: number\r\n}\r\nexport const setRequestedPage = (requestedPage: number): SetRequestedPageActionType => ({ type: SET_REQUESTED_PAGE, requestedPage })\r\n//5\r\ntype SetTotalUsersCountActionType ={\r\n    type: typeof SET_TOTAL_USERS_COUNT\r\n    count: number\r\n}\r\nexport const setTotalUsersCount = (totalUsersCount: number): SetTotalUsersCountActionType => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount })\r\n//6\r\ntype ToggleIsFetchingActionType ={\r\n    type: typeof TOGGLE_IS_FETCHING\r\n    isFetching: boolean\r\n}\r\nexport const toggleIsFetching = (isFetching: boolean): ToggleIsFetchingActionType => ({ type: TOGGLE_IS_FETCHING, isFetching })\r\n//7\r\ntype ToggleFollowingProgressActionType ={\r\n    type: typeof TOGGLE_IS_FOLLOWING_PROGRESS\r\n    isFetching: boolean\r\n    id: number\r\n}\r\nexport const toggleFollowingProgress = (isFetching: boolean, id: number): ToggleFollowingProgressActionType => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, id })\r\n\r\n//export const unfollowAC = () => ({ type: UNFOLLOW });\r\n//export const updateNewUsersActionCreator = (user) => ({ type: UPDATE_NEW_USERS, newText: user });\r\n\r\n//thunks: getUsersThunkCreator\r\nexport const getUsersThunkCreator = (requestedPage: number, pageSize: number) => {    //getUsers = getUsersThunkCreator page of Dimych = requestedPage\r\n    return async (dispatch: any) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setRequestedPage(requestedPage));\r\n\r\n        let data = await usersAPI.getUsers(requestedPage, pageSize)\r\n        //.then(data => {\r\n        dispatch(toggleIsFetching(false))\r\n        dispatch(setUsers(data.items))\r\n        dispatch(setTotalUsersCount(data.totalCount))\r\n        //});\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch: any, userId: number, apiMethod: any, actionCreator: any) => {\r\n    dispatch(toggleFollowingProgress(true, userId)) //1first we dispatch followingProgress\r\n    let response = await apiMethod(userId)                         //2we unfollow(send request)\r\n    //.then(response => {\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId))     //3when unfollow finishes, we confirm unfollow in state\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId))//4 then we turn off, disable buttons\r\n    //});\r\n}\r\n\r\nexport const follow = (userId: number) => {\r\n\r\n    return async (dispatch: any) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess)\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId: number) => {\r\n\r\n    return async (dispatch: any) => {\r\n        //let apiMethod = usersAPI.unfollow.bind(usersAPI)\r\n        //let actionCreator = unfollowSuccess\r\n        //we put previous 2 lines directrly:\r\n        followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess)\r\n    }\r\n}\r\n\r\nexport default usersReducer;\r\n\r\n//refactored by followUnfollowFlow and by async\r\n/*\r\nexport const follow = (userId) => {\r\n\r\n    return async (dispatch) => {\r\n        let apiMethod = usersAPI.follow.bind(usersAPI)\r\n        let actionCreator = followSuccess\r\n\r\n        dispatch(toggleFollowingProgress(true, userId)) //1first we dispatch followingProgress\r\n        let response = await apiMethod(userId)                         //2we unfollow(send request)\r\n        //.then(response => {\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(actionCreator(userId))     //3when unfollow finishes, we confirm unfollow in state\r\n        }\r\n        dispatch(toggleFollowingProgress(false, userId))//4 then we turn off, disable buttons\r\n        //});\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n\r\n    return async (dispatch) => {\r\n        let apiMethod = usersAPI.unfollow.bind(usersAPI)\r\n        let actionCreator = unfollowSuccess\r\n\r\n        dispatch(toggleFollowingProgress(true, userId))\r\n        let response = await apiMethod(userId)\r\n        //.then(response => {\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(actionCreator(userId))\r\n        }\r\n        dispatch(toggleFollowingProgress(false, userId))\r\n        //});\r\n    }\r\n}\r\n*/","import React, {useState} from 'react';\r\nimport styles from './Paginator.module.css';\r\nimport cn from \"classnames\";\r\nimport './Paginator.module.css'\r\n\r\ntype PropsType = { \r\n    totalItemsCount: number\r\n    pageSize: number\r\n    requestedPage: number\r\n     onPageChanged: (pageNumber: number) => void\r\n     portionSize?: number \r\n}\r\n\r\n//let Paginator = ({requestedPage, totalUsersCount, pageSize, onPageChanged,}) => {\r\nlet Paginator: React.FC<PropsType> = ({ requestedPage, totalItemsCount, pageSize, onPageChanged, portionSize = 10 }) => {\r\n    //let pagesCount = Math.ceil(totalUsersCount / pageSize);\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages: Array<number> = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n    let portionCount = Math.ceil(pagesCount / portionSize)\r\n    //<number> typing no need since it's implicitly defined by giving number 1\r\n    let [portionNumber, setPortionNumber] = useState<number>(1)\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionPageNumber = portionNumber * portionSize\r\n\r\n    return (<div className={cn(styles.paginator) }>\r\n\r\n        {portionNumber > 1 &&\r\n            <button className={styles.prevnext} onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button>}\r\n\r\n        {pages\r\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map((p) => {\r\n\r\n                return <span className={ cn( {[styles.selectedPage]: requestedPage === p}, styles.pageNumber ) }\r\n                             key={p}\r\n                             onClick={(e) => {onPageChanged(p)}\r\n                        }>{p}</span>\r\n\r\n            })\r\n        }\r\n        { portionCount > portionNumber &&\r\n            <button className={styles.prevnext} onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button>}\r\n\r\n    </div >)\r\n}\r\n\r\nexport default Paginator;\r\n\r\n/*\r\n    {pages.map(p => {\r\n        return <span className={requestedPage === p && styles.selectedPage}\r\n                     onClick={(e) => { onPageChanged(p) }}> {p}</span>\r\n    })}\r\n*/","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport userPhoto from './images/user.jpg';\r\nimport styles from './Users.module.css';\r\n\r\nlet User = ({ user, followingInProgress, unfollow, follow }) => {\r\n    return <div >\r\n\r\n        <div className={styles.userBlock}>\r\n            <span>\r\n                <div className={styles.avatar}>\r\n                    <NavLink to={'/profile/' + user.id}>\r\n                        <img src={user.photos.small != null ? user.photos.small : userPhoto}\r\n                            className={styles.item}\r\n                            alt='userPhoto' /> {/* photoUrl */}\r\n                        {/*<textarea className={styles.textareaSize}\r\n                                        placeholder=' Write smth to user'\r\n                />*/}\r\n                    </NavLink>\r\n\r\n                </div>\r\n                <div className={styles.button}>\r\n                    {user.followed\r\n\r\n                        ? <button disabled={followingInProgress\r\n                            .some(id => id === user.id)}\r\n                            onClick={() => { unfollow(user.id) }}>\r\n                            Unfollow</button>\r\n\r\n                        : <button disabled={followingInProgress\r\n                            .some(id => id === user.id)}\r\n                            onClick={() => { follow(user.id); }}>\r\n                            Follow</button>\r\n                    }\r\n                </div>\r\n            </span>\r\n\r\n            <span>\r\n\r\n                <div className={styles.namestyle}>{user.name}</div> {/*userName*/}\r\n                <div className={styles.namestyle}>{user.status}</div>\r\n\r\n\r\n                {/*\r\n                <div>{\"user.location.country\"}</div>\r\n                <div>{\"user.location.city\"}</div>\r\n                */}\r\n\r\n            </span>\r\n        </div>\r\n\r\n    </div>\r\n}\r\n\r\nexport default User;","export default \"data:image/jpeg;base64,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\"","import React, {FC} from 'react';\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport styles from './Users.module.css';\r\nimport User from './User';\r\nimport { UserType } from '../../types/types';\r\n\r\ntype PropsType = {\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    requestedPage: number\r\n     onPageChanged: (pageNumber: number) => void\r\n     portionSize?: number \r\n     usersData: Array<UserType>\r\n     followingInProgress: Array<number>\r\n     unfollow: (userId: number) => void\r\n     follow: (userId: number) => void\r\n}\r\nlet Users: FC<PropsType> = ({ requestedPage, totalUsersCount, pageSize, onPageChanged, usersData, ...props }) => {\r\n\r\n    return <div>\r\n\r\n        <Paginator requestedPage={requestedPage} onPageChanged={onPageChanged}\r\n            totalItemsCount={totalUsersCount} pageSize={pageSize} />\r\n        {/* totalItemsCount*/}\r\n\r\n        <div className={styles.usersPageBlock}>\r\n            {\r\n                usersData.map(u => <User user={u}\r\n                    followingInProgress={props.followingInProgress}\r\n                    key={u.id}\r\n                    follow={props.follow}\r\n                    unfollow={props.unfollow} />\r\n                )\r\n            }\r\n        </div>\r\n\r\n    </div >;\r\n}\r\n\r\nexport default Users;","import React from 'react';\r\nimport classes from './UserInfo.module.css';\r\n\r\nconst UserInfo = () => {\r\n  return <div className={classes.picture}>\r\n    \r\n    <img src='https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQhAuGtEUIzd1uz7lN6VC-_70yoZRGRXPbToQ&usqp=CAU' alt=\"user\" />\r\n\r\n  </div>\r\n\r\n}\r\n\r\nexport default UserInfo;","import { createSelector } from \"reselect\";\r\nimport { AppStateType } from './redux-store';\r\n\r\nexport const getUsersSelector = (state: AppStateType) => {\r\n    return state.usersPage.usersData;\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (usersData) => {\r\n    return usersData.filter(u => true);\r\n})\r\n\r\nexport const getPageSize = (state: AppStateType) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\n\r\nexport const getTotalUsersCount = (state: AppStateType) => {\r\n    return state.usersPage.totalItemsCount;\r\n}\r\n\r\nexport const getRequestedPage = (state: AppStateType) => {\r\n    return state.usersPage.requestedPage;\r\n}\r\n\r\nexport const getToggleIsFetching = (state: AppStateType) => {\r\n    return state.usersPage.toggleIsFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = (state: AppStateType) => {\r\n    return state.usersPage.followingInProgress;\r\n}\r\n/*\r\n        usersData: state.usersPage.usersData,\r\n        pageSize: state.usersPage.pageSize,\r\n        totalUsersCount: state.usersPage.totalUsersCount,\r\n        requestedPage: state.usersPage.requestedPage,\r\n        toggleIsFetching: state.usersPage.toggleIsFetching,\r\n        followingInProgress: state.usersPage.followingInProgress\r\n        */","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { follow, unfollow, getUsersThunkCreator } from '../../redux/users-reducer';\r\n//import * as Axios from 'axios'; now it it in api.js\r\nimport Users from './Users';\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport UserInfo from './UsersInfo/UserInfo';\r\n//import { usersAPI } from '../../api/api'; // axios came through this.\r\nimport styles from './Users.module.css';\r\n//import { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\nimport {\r\n    getRequestedPage,\r\n    getFollowingInProgress,\r\n    getToggleIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers\r\n} from '../../redux/user-selectors';\r\nimport { UserType } from '../../types/types';\r\nimport { AppStateType } from '../../redux/redux-store';\r\n\r\ntype MapStatePropsType = {\r\n    //properties\r\n    requestedPage: number \r\n    pageSize: number\r\n    toggleIsFetching: boolean\r\n    totalUsersCount: number\r\n    usersData: Array<UserType>\r\n    followingInProgress: Array<number>\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    //callbacks\r\n    getUsers: (requestedPage: number, pageSize: number) => void\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n}\r\n\r\n//came through props\r\ntype OwnPropsType = {\r\n    pageTitle: string\r\n}\r\n\r\n//reunions all PropsType above\r\ntype PropsType = MapStatePropsType & MapDispatchPropsType & OwnPropsType\r\n\r\nclass UsersContainer extends React.Component<PropsType> {\r\n\r\n    componentDidMount() {\r\n        let {requestedPage, pageSize} = this.props;\r\n        //if (this.props.usersData.length === 0) {}\r\n        this.props.getUsers(requestedPage, pageSize);\r\n\r\n        /*this.props.toggleIsFetching(true);\r\n\r\n        usersAPI.getUsers(this.props.RequestedPage, this.props.pageSize).then(data => {\r\n            this.props.toggleIsFetching(false);\r\n            this.props.setUsers(data.items);\r\n            this.props.setTotalUsersCount(data.totalCount);\r\n        });*/\r\n\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n        const {pageSize} = this.props; //local restructuring helped to shorten next line of code\r\n        //this.props.getUsers(pageNumber, this.props.pageSize);\r\n        this.props.getUsers(pageNumber, pageSize);\r\n\r\n        /*this.props.setRequestedPage(pageNumber);\r\n        this.props.toggleIsFetching(true);\r\n        \r\n        usersAPI.getUsers(pageNumber, this.props.pageSize).then(data => {\r\n            this.props.toggleIsFetching(false);\r\n            this.props.setUsers(data.items);\r\n        });*/\r\n    }\r\n    //getUsers = () => {};\r\n    render() {\r\n\r\n        return <>\r\n            \r\n            { this.props.toggleIsFetching ? <Preloader className={styles.preloader} /> : null}\r\n            <h2 className={styles.pageTitle}>{this.props.pageTitle}</h2>\r\n            <div >\r\n                <UserInfo />\r\n            </div>\r\n            <div className={styles.userInfo}>\r\n            <Users \r\n                totalUsersCount={this.props.totalUsersCount}\r\n                pageSize={this.props.pageSize}\r\n                requestedPage={this.props.requestedPage}\r\n                onPageChanged={this.onPageChanged}\r\n                usersData={this.props.usersData}\r\n                follow={this.props.follow}\r\n                unfollow={this.props.unfollow}\r\n                //toggleFollowingProgress={this.props.toggleFollowingProgress}\r\n                followingInProgress={this.props.followingInProgress}\r\n\r\n            />\r\n            </div>\r\n            \r\n \r\n        </>\r\n\r\n    }\r\n}\r\n\r\n/*let mapStateToProps = (state) => {\r\n    return {\r\n        //UsersPage: state.UsersPage,\r\n        usersData: state.usersPage.usersData,\r\n        pageSize: state.usersPage.pageSize,\r\n        totalUsersCount: state.usersPage.totalUsersCount,\r\n        RequestedPage: state.usersPage.RequestedPage,\r\n        toggleIsFetching: state.usersPage.toggleIsFetching,\r\n        followingInProgress: state.usersPage.followingInProgress\r\n\r\n    }\r\n}*/\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStatePropsType => {\r\n    return {\r\n        usersData: getUsers(state),\r\n        //UsersPage: state.UsersPage,\r\n        //usersData: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        requestedPage: getRequestedPage(state),\r\n        toggleIsFetching: getToggleIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    //withAuthRedirect,   //3 if I don't want this protection, then I just this line\r\n    //TStateProps = {}, TDispatchProps = {}, TOwnProps = {}, State = DefaultState\r\n    connect<MapStatePropsType, MapDispatchPropsType, OwnPropsType, AppStateType >(mapStateToProps, { follow, unfollow, getUsers: getUsersThunkCreator }), //2\r\n    //connect(mapStateToProps, { follow, unfollow, setRequestedPage, toggleFollowingProgress, getUsers: requestUsers })\r\n)(UsersContainer)  //1\r\n\r\n//export default connect(mapStateToProps, mapDispatchToProps)(UsersContainer);\r\n\r\n//shorter version:\r\n/*3(2)      export default withAuthRedirect(connect(mapStateToProps, /*{\r\n\r\n        follow: followAC,\r\n        unfollow: unfollowAC,\r\n        setUsers: setUsersAC,\r\n        setRequestedPage: setRequestedPageAC,\r\n        setTotalUsersCount: setTotalUsersCountAC,\r\n        toggleIsFetching: toggleIsFetchingAC\r\n\r\n    }*/\r\n    //shorter version\r\n\r\n/*2 {\r\n     follow, unfollow, setRequestedPage,\r\n     toggleFollowingProgress,\r\n     getUsers: getUsersThunkCreator\r\n })(UsersContainer));\r\n\r\n/*\r\nlet mapDispatchToProps = (dispatch) => {\r\n return {\r\n     follow: (userId) => {\r\n         dispatch(followAC(userId))\r\n     },\r\n     unfollow: (userId) => {\r\n         dispatch(unfollowAC(userId))\r\n     },\r\n     setUsers: (usersData) => {\r\n         dispatch(setUsersAC(usersData))\r\n     },\r\n     setRequestedPage: (pageNumber) => {\r\n         dispatch(setRequestedPageAC(pageNumber))\r\n     },\r\n     setTotalUsersCount: (totalCount) => {\r\n         dispatch(setTotalUsersCountAC(totalCount))\r\n     },\r\n     toggleIsFetching: (isFetching) => {\r\n         dispatch(toggleIsFetchingAC(isFetching))\r\n     }\r\n }\r\n}\r\n*/","//import { stopSubmit } from \"redux-form\";\r\n//import { authAPI } from \"../api/api\";\r\nimport { getAuthUserData } from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nexport type InitialStateType ={\r\n    initialized: boolean\r\n}\r\n\r\nlet initialState: InitialStateType = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action: any): InitialStateType => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\ntype InitializedSuccessActionType = {\r\n    type: typeof INITIALIZED_SUCCESS //'INITIALIZED_SUCCESS'\r\n}\r\n\r\n//actionCreators. AC abbreviation deleted at the end of words\r\nexport const initializedSuccess = (): InitializedSuccessActionType => ({ type: INITIALIZED_SUCCESS });\r\n//мы диспатчим именно экшны объекты \r\n\r\n//thunkCreator:\r\nexport const initializeApp = () => (dispatch: any) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    \r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(initializedSuccess());\r\n        })\r\n}\r\n\r\nexport default appReducer;","let initialState = {};\r\ntype InitialStateType = typeof initialState\r\nconst sideBarReducer = (state = initialState, action: any): InitialStateType => {\r\n    return state;\r\n}\r\n\r\nexport default sideBarReducer;","import { applyMiddleware, combineReducers, createStore, compose } from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport  { reducer as formReducer } from 'redux-form';\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet rootReducer = combineReducers({\r\n    profilePage: profileReducer, //same as profilePage: profileReducer,   means there is profilePage and profileReducer is responsible for it\r\n    dialogsPage: dialogsReducer,    //but can't read new shorter format for instant\r\n    usersPage: usersReducer,\r\n    sidebar: sidebarReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n\r\n});\r\n\r\ntype RootReducerType = typeof rootReducer; // (globalstate: GLOBALSTATE) => GLOBALSTATE\r\nexport type AppStateType = ReturnType<RootReducerType> //define type of returnedTyped and fix it under name \"RootReducerType\"\r\n\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\n\r\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n// @ts-ignore\r\nwindow.__store__ = store\r\n\r\n//let store = createStore(reducers, applyMiddleware(thunkMiddleware))\r\nexport default store","import React, { Suspense } from 'react';\r\n\r\n\r\nexport const withSuspense = (Component) => {\r\n\r\n    return (props) => {\r\n        return <Suspense fallback={<div>Loading...</div>}>\r\n            <Component {...props} />\r\n        </Suspense>\r\n    }\r\n}","import React from 'react';\r\nimport { compose } from 'redux';\r\nimport { Component } from 'react';\r\nimport { BrowserRouter, Redirect, Route, Switch, withRouter } from 'react-router-dom';\r\nimport './App.css';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport LoginPage from './components/Login/Login';\r\nimport Music from './components/Music/Music';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport News from './components/News/News';\r\nimport Settings from './components/Settings/Settings';\r\nimport UsersContainer from './components/Users/UsersContainer';\r\nimport { connect, Provider } from 'react-redux';\r\nimport { initializeApp } from './redux/app-reducer';\r\n\r\nimport Preloader from './components/common/Preloader/Preloader';\r\nimport store from './redux/redux-store';\r\nimport { withSuspense } from './hoc/withSuspense';\r\n\r\n//import ProfileContainer from './components/Profile/ProfileContainer';\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\n//import DialogsContainer from './components/Dialogs/DialogsContainer';\r\n//import Dialogs from './components/Dialogs/Dialogs';\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\n\r\n\r\nclass App extends Component {\r\n\r\n  catchAllUnhandledErrors = (promiseRejectionEvent) => {\r\n    //if (reason, promise) then should use thunk\r\n    //alert(promiseRejectionEvent)\r\n    console.error(promiseRejectionEvent)\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.initializeApp()\r\n    window.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors)\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.initialized) {\r\n      return <Preloader />\r\n    }\r\n\r\n    return (\r\n      <div className=\"app-wrapper wholepage\">\r\n        <HeaderContainer />\r\n        <Navbar />\r\n\r\n        <div className=\"app-wrapper-content\">\r\n          <Switch>\r\n            {/* <Redirect exact from=\"/\" to=\"/profile\" render={withSuspense(ProfileContainer)} /> */}\r\n            {/* Variant Dimych: <Route exact path='/' render={ () => <Redirect to={\"/profile\"}/>}/>      */}\r\n            <Route exact path=\"/\">\r\n              <Redirect to=\"/profile\" render={withSuspense(ProfileContainer)}/>\r\n            </Route>\r\n            <Route path='/profile/:userId?'\r\n              render={withSuspense(ProfileContainer)}\r\n            />\r\n\r\n            <Route path='/dialogs'\r\n              render={withSuspense(DialogsContainer)}\r\n            />\r\n\r\n            <Route path='/news' render={() => <News />} />\r\n            <Route path='/music' component={Music} />\r\n            <Route path='/users' render={() => <UsersContainer pageTitle={\"Samurai\"} />} />\r\n            <Route path='/settings' component={Settings} />\r\n            <Route path='/login' render={() => <LoginPage />} />\r\n            <Route path='/*' render={withSuspense(ProfileContainer)} />\r\n            {/* render={() => <div>404 NOT FOUND</div>} */}\r\n            \r\n          </Switch>\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  initialized: state.app.initialized\r\n})\r\n\r\n//export default compose(\r\nlet AppContainer = compose(\r\n  withRouter,\r\n  connect(mapStateToProps, { initializeApp }))(App)\r\n\r\nconst SamuraiJSAp = (props) => {\r\n  return <BrowserRouter >\r\n    {/*no need in HashRouter: basename={process.env.PUBLIC_URL}*/}\r\n    <Provider store={store} >\r\n      <AppContainer />\r\n    </Provider>\r\n  </BrowserRouter>\r\n}\r\n\r\nexport default SamuraiJSAp;\r\n\r\n\r\n\r\n//store={props.store} don't need since we can pass by StoreContext API instead of props.\r\n          //profilePage = {props.state.profilePage}\r\n          //dispatch = {props.dispatch}\r\n\r\n//updateNewPostText={props.updateNewPostText} now is in dispatch together with  addPost\r\n\r\n//we don't need : state=props.state.dialogsPage since we have store.\r\n\r\n//store={props.store}\r\n          //dialogsPage = {props.state.dialogsPage}\r\n          //dispatch = {props.dispatch} \r\n\r\n/* <Route path='/profile' component={Profile} />\r\n          <Route path='/dialogs' component={Dialogs} /> */","import * as serviceWorker from './serviceWorker';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport SamuraiJSAp from './App';\r\n//import App from './App';\r\n//import store from './redux/redux-store';\r\n//import { BrowserRouter } from 'react-router-dom';\r\n//import {Provider} from './StoreContext'; instead of writing by ourself. we import from library that has same code:\r\n//import { Provider } from \"react-redux\"; //more or less same code is in StoreContext.\r\n\r\n//let rerenderEntireTree = () => {\r\nReactDOM.render(\r\n    <SamuraiJSAp/>, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n\r\n//we don't need subscribe and rerender when something is changed in state thanks to react-redux container:\r\n//with help of function connect\r\n//\r\n//}\r\n//rerenderEntireTree();\r\n//store.subscribe(() => {    \r\n//rerenderEntireTree();\r\n//let state = store.getState();//перезаписывает новые данные вместо старых данных  \r\n//});\r\n//\r\n\r\n\r\n//store.subscribe(rerenderEntireTree); замечает что произведено изменение данных( пользователь ввел текс)\r\n//но нету запроса на изменение данных. решается с помощью анонимной функции:","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__1YAx5\",\"pageNumber\":\"Paginator_pageNumber__33m71\",\"paginator\":\"Paginator_paginator__2lnj8\",\"prevnext\":\"Paginator_prevnext__15MDl\"};","import React from 'react';\r\nimport { Field } from 'redux-form';\r\nimport styles from './FormsControls.module.css';\r\n\r\nlet FormControl = ({ input, meta: {touched, error}, children, ...props }) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            { hasError && <span>{error}</span> }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n} \r\n\r\nexport const createField = (placeholder, name, validators, component, props = {}, text = \"\") => (\r\n    <div>\r\n        <Field placeholder={placeholder} name = {name}\r\n                validate={validators}\r\n                component={component}\r\n                {...props}\r\n        /> {text}\r\n    </div>\r\n)\r\n\r\n/*\r\nexport const Textarea = ({ input, meta, ...props }) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n            <div>\r\n                <textarea {...input} {...props} />\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Input = ({ input, meta, ...props }) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n            <div>\r\n                <input {...input} {...props} />\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\n*/","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__1QGjF\",\"error\":\"FormsControls_error__2Xy6O\",\"formsummaryError\":\"FormsControls_formsummaryError__1IUYJ\"};","export const required = value => {\r\n    if (value) return undefined;\r\n    return \"'Field is required'\";\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n\r\n    return undefined;\r\n}","export default __webpack_public_path__ + \"static/media/preloader.739ef306.svg\";","//import React from 'react';\r\nimport preloader from \"../../../assets/images/preloader.svg\";\r\nimport style from \"./Preloader.module.css\";\r\n\r\n\r\nlet Preloader = (props) => {\r\n    return <div className={style.animation}>\r\n        <div className=\"packman\">\r\n            <img src={preloader}\r\n                alt={preloader}\r\n            />\r\n        </div>\r\n        \r\n    </div>\r\n}\r\n\r\nexport default Preloader;\r\n\r\n//style={ backgroundColor: 'red' }","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__16ELJ\",\"loginBlock\":\"Header_loginBlock__1gYAB\"};"],"sourceRoot":""}