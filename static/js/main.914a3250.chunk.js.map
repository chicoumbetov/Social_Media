{"version":3,"sources":["components/Navbar/Navbar.module.css","redux/dialogs-reducer.js","components/Users/images/user.png","components/common/Preloader/Preloader.module.css","components/Users/UsersInfo/UserInfo.module.css","api/api.js","components/Users/Users.module.css","serviceWorker.js","redux/auth-reducer.js","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","utils/Login-refactoring-helper.js","components/Login/Login.jsx","components/Music/Music.jsx","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Settings/Settings.jsx","utils/object-helpers-for-user-reducers.js","redux/users-reducer.js","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","components/Users/UsersInfo/UserInfo.jsx","redux/user-selectors.js","components/Users/UsersContainer.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","hoc/withSuspense.js","App.js","index.js","components/common/FormsControls/FormsControls.module.css","components/common/FormsControls/FormsControls.js","components/common/Preloader/Preloader.js","components/common/Paginator/Paginator.module.css","utils/validators/validators.js","components/Header/Header.module.css","assets/images/preloader.svg","redux/profile-reducer.js"],"names":["module","exports","initialState","dialogsData","id","name","messageData","message","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","body","instance","Axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","log","onUpdate","onSuccess","catch","error","SET_USER_DATA","isAuth","setAuthUserData","payload","getAuthUserData","dispatch","a","resultCode","authReducer","Header","props","className","classes","header","src","alt","loginBlock","onClick","to","HeaderContainer","this","React","Component","connect","auth","createField","placeholder","validators","component","text","Field","validate","LoginReduxForm","reduxForm","form","handleSubmit","onSubmit","required","Input","style","formSummaryError","messages","length","stopSubmit","_error","formData","Music","Navbar","nav","item","active","activeClassName","activeLink","News","Settings","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","usersData","totalItemsCount","requestedPage","toggleIsFetching","followingInProgress","followSuccess","unfollowSuccess","setRequestedPage","isFetching","count","toggleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","usersReducer","followed","totalUsersCount","filter","Paginator","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","p","cn","selectedPage","pageNumber","key","e","User","user","userBlock","photos","small","userPhoto","button","disabled","some","Users","usersPageBlock","UserInfo","picture","createSelector","usersPage","getPageSize","getTotalUsersCount","getRequestedPage","getToggleIsFetching","getFollowingInProgress","UsersContainer","Preloader","preloader","compose","bind","totalCount","initialized","appReducer","sideBarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","sidebarReducer","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspense","fallback","ProfileContainer","lazy","DialogsContainer","App","initializeApp","path","render","AppContainer","withRouter","promise","Promise","all","SamuraiJSAp","basename","process","ReactDOM","document","getElementById","URL","href","origin","addEventListener","fetch","contentType","indexOf","ready","unregister","reload","checkValidServiceWorker","FormControl","input","meta","touched","children","hasError","formControl","Textarea","restProps","child","animation","value","maxLengthCreator","maxLength","postsData","likesCount","profile","addPostActionCreator","newPostText","setStatus","getUserProfile","newPost","postId"],"mappings":"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","file":"static/js/main.914a3250.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__30zX2\",\"item\":\"Navbar_item__28IAr\",\"activeLink\":\"Navbar_activeLink__3sbw5\"};","const SEND_MESSAGE = 'SEND_MESSAGE'; //name of action\r\n\r\nlet initialState = {\r\n    dialogsData:    //dialogs\r\n        [\r\n            { id: 1, name: 'Aiya' },\r\n            { id: 2, name: 'Kumar' },\r\n            { id: 3, name: 'Balgyn' },\r\n            { id: 4, name: 'Meir' },\r\n            { id: 5, name: 'Dana' },\r\n            { id: 6, name: 'Mura' }\r\n        ],\r\n    messageData:    //messages\r\n        [\r\n            { id: 1, message: \"Yo\" },\r\n            { id: 2, message: \"How is your IT KA project? \" },\r\n            { id: 3, message: \"Hi\" },\r\n            { id: 4, message: \"Hi bratishka\" },\r\n            { id: 5, message: \"Hey\" }\r\n        ]\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    //switch used instead of if else because we are using discrete constants.\r\n\r\n    //    let stateCopy;\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE: {\r\n            //explanation in profile reducer\r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state,   //spread shell copy\r\n                messageData: [...state.messageData, { id: 6, message: body }] //precise copy\r\n                //... spread operator\r\n            }\r\n            //stateCopy.messageData.push();\r\n            //return stateCopy;\r\n        }\r\n        //let body = state.newMessageBody;\r\n        //state.newMessageBody = '';\r\n        //state.messageData.push({ id: 6, message: body });\r\n        //return state;\r\n        //this._callSubscriber(this._state); //_callSubscriber says about changes in _state to outside of store.\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({ type: SEND_MESSAGE, newMessageBody: newMessageBody });\r\n\r\nexport default dialogsReducer;","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"animation\":\"Preloader_animation__ybn72\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"picture\":\"UserInfo_picture__iFhmh\",\"item\":\"UserInfo_item__Vfo3O\"};","//DAL- Data access layer\r\nimport * as Axios from 'axios';\r\n\r\nconst instance = Axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": \"6575ca7d-1a97-4a7e-89d5-ab13a1584d2f\"\r\n    }\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 100) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`);\r\n    },\r\n\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`);\r\n    },\r\n\r\n    getProfile(userId) {\r\n        console.warn('Obsolete method. Please use profileAPI object')\r\n        return profileAPI.getProfile(userId)\r\n    }\r\n\r\n}\r\n\r\nexport const profileAPI = {\r\n\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId)\r\n    },\r\n\r\n    getStatus(userId) {\r\n        return instance.get('profile/status/' + userId)\r\n    },\r\n\r\n    updateStatus(status) {\r\n        return instance.put('profile/status', { status: status })\r\n    }\r\n\r\n}\r\n\r\nexport const authAPI = {\r\n    me() { return instance.get(`auth/me`) },\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post(`auth/login`, { email, password, rememberMe })\r\n    },\r\n    logout() {return instance.delete(`auth/login`)}\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPageBlock\":\"Users_usersPageBlock__1_4Ji\",\"userBlock\":\"Users_userBlock__1_3Lb\",\"item\":\"Users_item__6TVeR\",\"textareaSize\":\"Users_textareaSize__1GazB\",\"selectedPage\":\"Users_selectedPage__afxGh\",\"preloader\":\"Users_preloader__16lTv\"};","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n    window.location.hostname === 'localhost' ||\r\n      // [::1] is the IPv6 localhost address.\r\n      window.location.hostname === '[::1]' ||\r\n      // 127.0.0.0/8 are considered localhost for IPv4.\r\n      window.location.hostname.match(\r\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n      )\r\n  );\r\n\r\nexport function register(config) {\r\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n      // The URL constructor is available in all browsers that support SW.\r\n      const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n      if (publicUrl.origin !== window.location.origin) {\r\n        // Our service worker won't work if PUBLIC_URL is on a different origin\r\n        // from what our page is served on. This might happen if a CDN is used to\r\n        // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n        return;\r\n      }\r\n  \r\n      window.addEventListener('load', () => {\r\n        const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n  \r\n        if (isLocalhost) {\r\n          // This is running on localhost. Let's check if a service worker still exists or not.\r\n          checkValidServiceWorker(swUrl, config);\r\n  \r\n          // Add some additional logging to localhost, pointing developers to the\r\n          // service worker/PWA documentation.\r\n          navigator.serviceWorker.ready.then(() => {\r\n            console.log(\r\n              'This web app is being served cache-first by a service ' +\r\n                'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n            );\r\n          });\r\n        } else {\r\n          // Is not localhost. Just register service worker\r\n          registerValidSW(swUrl, config);\r\n        }\r\n      });\r\n    }\r\n}\r\n  \r\nfunction registerValidSW(swUrl, config) {\r\n    navigator.serviceWorker\r\n      .register(swUrl)\r\n      .then(registration => {\r\n        registration.onupdatefound = () => {\r\n          const installingWorker = registration.installing;\r\n          if (installingWorker == null) {\r\n            return;\r\n          }\r\n          installingWorker.onstatechange = () => {\r\n            if (installingWorker.state === 'installed') {\r\n              if (navigator.serviceWorker.controller) {\r\n                // At this point, the updated precached content has been fetched,\r\n                // but the previous service worker will still serve the older\r\n                // content until all client tabs are closed.\r\n                console.log(\r\n                  'New content is available and will be used when all ' +\r\n                    'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n                );\r\n  \r\n                // Execute callback\r\n                if (config && config.onUpdate) {\r\n                  config.onUpdate(registration);\r\n                }\r\n              } else {\r\n                // At this point, everything has been precached.\r\n                // It's the perfect time to display a\r\n                // \"Content is cached for offline use.\" message.\r\n                console.log('Content is cached for offline use.');\r\n  \r\n                // Execute callback\r\n                if (config && config.onSuccess) {\r\n                  config.onSuccess(registration);\r\n                }\r\n              }\r\n            }\r\n          };\r\n        };\r\n      })\r\n      .catch(error => {\r\n        console.error('Error during service worker registration:', error);\r\n      });\r\n  }\r\n\r\n  function checkValidServiceWorker(swUrl, config) {\r\n    // Check if the service worker can be found. If it can't reload the page.\r\n    fetch(swUrl, {\r\n      headers: { 'Service-Worker': 'script' },\r\n    })\r\n      .then(response => {\r\n        // Ensure service worker exists, and that we really are getting a JS file.\r\n        const contentType = response.headers.get('content-type');\r\n        if (\r\n          response.status === 404 ||\r\n          (contentType != null && contentType.indexOf('javascript') === -1)\r\n        ) {\r\n          // No service worker found. Probably a different app. Reload the page.\r\n          navigator.serviceWorker.ready.then(registration => {\r\n            registration.unregister().then(() => {\r\n              window.location.reload();\r\n            });\r\n          });\r\n        } else {\r\n          // Service worker found. Proceed as normal.\r\n          registerValidSW(swUrl, config);\r\n        }\r\n      })\r\n      .catch(() => {\r\n        console.log(\r\n          'No internet connection found. App is running in offline mode.'\r\n        );\r\n      });\r\n  }\r\n  \r\nexport function unregister() {\r\n    if ('serviceWorker' in navigator) {\r\n      navigator.serviceWorker.ready\r\n        .then(registration => {\r\n          registration.unregister();\r\n        })\r\n        .catch(error => {\r\n          console.error(error.message);\r\n        });\r\n    }\r\n}","import { stopSubmit } from \"redux-form\";\r\nimport { authAPI } from \"../api/api\";\r\n\r\nconst SET_USER_DATA = 'samurai-network/auth/SET_USER_DATA';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n    //isFetching: true\r\n}\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n                //isAuth: true //should be deleted since in payload\r\n\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n//actionCreators. AC abbreviation deleted at the end of words\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({ type: SET_USER_DATA, payload: { userId, email, login, isAuth } });\r\n//мы диспатчим именно экшны объекты\r\n\r\n//thunkCreator:\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me()\r\n    //.then(response => {\r\n    if (response.data.resultCode === 0) {\r\n        let { id, login, email } = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true))\r\n    }\r\n    //})\r\n}\r\n\r\n//thunkCreator to login from site not from server site\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n\r\n    let response = await authAPI.login(email, password, rememberMe)\r\n    //.then(response => {\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n        dispatch(stopSubmit(\"login\", { _error: message }));\r\n    }\r\n    //})\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout()\r\n    \r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n}\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport classes from './Header.module.css';\r\n\r\nconst Header = (props) => {\r\n\r\n  return <header className={classes.header}>\r\n    <img src=\"../images/disney.jpg\" className=\"disney\" alt=\"disney\" />\r\n\r\n    <div className={classes.loginBlock}>\r\n      {props.isAuth \r\n       ? <div>{props.login} - <button onClick={props.logout}>Log out</button></div>\r\n        : <NavLink to={'/login'} >Login</NavLink>\r\n      }\r\n    </div>\r\n  </header>\r\n}\r\n\r\nexport default Header; ","//import Axios from 'axios';\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '../../redux/auth-reducer';\r\nimport Header from './Header';\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n  render() {\r\n    return <Header {...this.props} />\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login\r\n});\r\n\r\nexport default connect(mapStateToProps, { logout })(HeaderContainer);","import React from 'react';\r\nimport { Field } from 'redux-form';\r\n\r\nexport const createField = (placeholder, name, validators, component, props = {}, text = \"\") => (\r\n    <div>\r\n        <Field placeholder={placeholder} name={name}\r\n            validate={validators} component={component} \r\n            {...props}\r\n            /> {text}\r\n    </div>\r\n)","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { reduxForm } from 'redux-form';\r\n//import LoginForm from './LoginForm';\r\nimport { login } from \"../../redux/auth-reducer\";\r\n\r\n//import { Field } from 'redux-form';\r\nimport { required } from '../../utils/validators/validators';\r\nimport { Input } from '../common/FormsControls/FormsControls';\r\nimport { Redirect } from 'react-router-dom';\r\nimport style from \"../common/FormsControls/FormsControls.module.css\";\r\nimport { createField } from '../../utils/Login-refactoring-helper';\r\n\r\nconst LoginForm = ({ handleSubmit, error }) => {\r\n    return (\r\n        <form onSubmit={handleSubmit} >\r\n\r\n            {createField(\"Email\", \"email\", [required], Input)}\r\n            {createField(\"Password\", \"password\", [required], Input, { type: \"password\" } ) }\r\n            {createField(null, \"rememberMe\", [], Input, { type: \"checkbox\" }, \"remember me\")}\r\n\r\n            { error && <div className={style.formSummaryError}>\r\n                {error}\r\n            </div>}\r\n\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>)\r\n}\r\n\r\n//unique name for form\r\nconst LoginReduxForm = reduxForm({ form: 'login' })(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe); //callback login\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"} />\r\n    }\r\n\r\n    return <div>\r\n        <h1>Login</h1>\r\n        <LoginReduxForm onSubmit={onSubmit} />\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n//thunkCreator login\r\nexport default connect(mapStateToProps, { login })(Login);","import React from 'react';\r\n\r\nconst Music = (props) => {\r\n    return (\r\n        <div>\r\n            <p>Music</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport classes from './Navbar.module.css';\r\n//console.log(classes)    this line to check that each key of classes has its unique name\r\n//let classes {\r\n//    'nav': 'its unique name',    \r\n//    'item': 'its unique another name',\r\n//    'active': 'new unique name'\r\n//}\r\n\r\n//let c1=\"item\";\r\n//let c2 = \"active\";\r\n//   to have this \"item active\", we need to write next:\r\n//let c = c1 + \" \" + c2\r\n//let classesUsed = {`${classes.item} ${classes.active}`}\r\n// {`${classes.item} ${classes.active}`} we put instead of classes.item if we want unique style for separate word\r\n\r\nconst Navbar = () => {\r\n  return <nav className={classes.nav}>\r\n\r\n    <div className={`${classes.item} ${classes.active}`}>\r\n      <NavLink to=\"/profile\" activeClassName={classes.activeLink}>Profile</NavLink>\r\n    </div>\r\n\r\n    <div className={`${classes.item} ${classes.active}`}>\r\n      <NavLink to=\"/dialogs\" activeClassName={classes.activeLink}>Messages</NavLink>\r\n    </div>\r\n\r\n    <div className={classes.item}>\r\n      <NavLink to='/users' activeClassName={classes.activeLink}>Users</NavLink>\r\n    </div>\r\n\r\n    <div className={classes.item}>\r\n      <NavLink to='/music' activeClassName={classes.activeLink}>Music</NavLink>\r\n    </div>\r\n\r\n    <div className={classes.item}>\r\n      <NavLink to='/news' activeClassName={classes.activeLink}>News</NavLink>\r\n    </div>\r\n\r\n    <div className={classes.item}>\r\n      <NavLink to='/settings' activeClassName={classes.activeLink}>Settings</NavLink>\r\n    </div>\r\n\r\n  </nav>\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div>\r\n            <p>News</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","import React from 'react';\r\n\r\nconst Settings = (props) => {\r\n    return (\r\n        <div>\r\n            <p>Settings</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return { ...u, ...newObjProps }      //we want change only following status, nothing more by clicking on button follow, un follow\r\n        }\r\n        return u;\r\n    })\r\n}","import { usersAPI } from '../api/api';\r\nimport { updateObjectInArray } from '../utils/object-helpers-for-user-reducers';\r\n\r\n//const ADD_USERS = 'ADD_USERS';\r\n//const UPDATE_NEW_USERS = 'UPDATE_NEW_USERS';\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_REQUESTED_PAGE = 'SET_REQUESTED_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\n\r\nlet initialState = {\r\n    usersData: [],\r\n    pageSize: 100,\r\n    totalItemsCount: [],\r\n    requestedPage: 1,\r\n    toggleIsFetching: true,\r\n    followingInProgress: []\r\n    //    newUsers: 'IT_KA.Users'\r\n}\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                //users: [...state.users],same as: users: state.users.map( callbackfn: u => u)  cause copy whole array and change whole object users.\r\n                usersData: updateObjectInArray(state.usersData, action.id, \"id\", { followed: true })\r\n                /*\r\n                usersData: state.usersData.map(u => {\r\n                    if (u.id === action.id) {\r\n                        return { ...u, followed: true }      //we want change only following status, nothing more by clicking on button follow, un follow\r\n                    }\r\n                    return u;\r\n                })\r\n                */\r\n            }\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                usersData: updateObjectInArray(state.usersData, action.id, \"id\", { followed: false })\r\n                /*\r\n                usersData: state.usersData.map(u => {\r\n                    if (u.id === action.id) {\r\n                        return { ...u, followed: false }      //we want change only following status, nothing more by clicking on button follow, un follow\r\n                    }\r\n                    return u;\r\n                })\r\n                */\r\n            }\r\n\r\n        case SET_USERS: {\r\n            return {\r\n                ...state,\r\n                //usersData: [...state.usersData, ...action.usersData] //adds all users at the end of first page\r\n                usersData: action.usersData //adds all users each time on different next page.\r\n                // state.users - that already have been inside, action.users - new users that were created.\r\n            }\r\n        }\r\n\r\n        case SET_REQUESTED_PAGE: {\r\n            return {\r\n                ...state, requestedPage: action.requestedPage // state.users - that already have been inside, action.users - new users that were created.\r\n            }\r\n        }\r\n\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {\r\n                ...state, totalUsersCount: action.count // state.users - that already have been inside, action.users - new users that were created.\r\n            }\r\n        }\r\n\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {\r\n                ...state, toggleIsFetching: action.toggleIsFetching // state.users - that already have been inside, action.users - new users that were created.\r\n            }\r\n        }\r\n\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [state.followingInProgress, action.id] //if isFetching true then we destructure and add at the end id which is in action\r\n                    : state.followingInProgress.filter(id => id !== action.id) //if false then we create new array with filter\r\n                // state.users - that already have been inside, action.users - new users that were created.\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n//actionCreators. AC abreviation deleted at the end of words\r\nexport const followSuccess = (id) => ({ type: FOLLOW, id })\r\nexport const unfollowSuccess = (id) => ({ type: UNFOLLOW, id })\r\nexport const setUsers = (usersData) => ({ type: SET_USERS, usersData })\r\nexport const setRequestedPage = (requestedPage) => ({ type: SET_REQUESTED_PAGE, requestedPage })\r\nexport const setTotalUsersCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount })\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, count: isFetching })\r\nexport const toggleFollowingProgress = (isFetching, id) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, count: isFetching, id })\r\n\r\n//export const unfollowAC = () => ({ type: UNFOLLOW });\r\n//export const updateNewUsersActionCreator = (user) => ({ type: UPDATE_NEW_USERS, newText: user });\r\n\r\n//thunks: getUsersThunkCreator\r\nexport const getUsersThunkCreator = (requestedPage, pageSize) => {    //getUsers = getUsersThunkCreator page of Dimych = requestedPage\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setRequestedPage(requestedPage));\r\n\r\n        let data = await usersAPI.getUsers(requestedPage, pageSize)\r\n        //.then(data => {\r\n        dispatch(toggleIsFetching(false))\r\n        dispatch(setUsers(data.items))\r\n        dispatch(setTotalUsersCount(data.totalCount))\r\n        //});\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId)) //1first we dispatch followingProgress\r\n    let response = await apiMethod(userId)                         //2we unfollow(send request)\r\n    //.then(response => {\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId))     //3when unfollow finishes, we confirm unfollow in state\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId))//4 then we turn off, disable buttons\r\n    //});\r\n}\r\n\r\nexport const follow = (userId) => {\r\n\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess)\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n\r\n    return async (dispatch) => {\r\n        //let apiMethod = usersAPI.unfollow.bind(usersAPI)\r\n        //let actionCreator = unfollowSuccess\r\n        //we put previous 2 lines directrly:\r\n        followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess)\r\n    }\r\n}\r\n\r\nexport default usersReducer;\r\n\r\n//refactored by followUnfollowFlow and by async\r\n/*\r\nexport const follow = (userId) => {\r\n\r\n    return async (dispatch) => {\r\n        let apiMethod = usersAPI.follow.bind(usersAPI)\r\n        let actionCreator = followSuccess\r\n\r\n        dispatch(toggleFollowingProgress(true, userId)) //1first we dispatch followingProgress\r\n        let response = await apiMethod(userId)                         //2we unfollow(send request)\r\n        //.then(response => {\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(actionCreator(userId))     //3when unfollow finishes, we confirm unfollow in state\r\n        }\r\n        dispatch(toggleFollowingProgress(false, userId))//4 then we turn off, disable buttons\r\n        //});\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n\r\n    return async (dispatch) => {\r\n        let apiMethod = usersAPI.unfollow.bind(usersAPI)\r\n        let actionCreator = unfollowSuccess\r\n\r\n        dispatch(toggleFollowingProgress(true, userId))\r\n        let response = await apiMethod(userId)\r\n        //.then(response => {\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(actionCreator(userId))\r\n        }\r\n        dispatch(toggleFollowingProgress(false, userId))\r\n        //});\r\n    }\r\n}\r\n*/","import React, {useState} from 'react';\r\nimport styles from './Paginator.module.css';\r\nimport cn from \"classnames\";\r\n\r\n//let Paginator = ({requestedPage, totalUsersCount, pageSize, onPageChanged,}) => {\r\nlet Paginator = ({ requestedPage, totalItemsCount, pageSize, onPageChanged, portionSize = 10 }) => {\r\n    //let pagesCount = Math.ceil(totalUsersCount / pageSize);\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n    let portionCount = Math.ceil(pagesCount / portionSize)\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionPageNumber = portionNumber * portionSize\r\n\r\n    return (<div className={styles.paginator}>\r\n\r\n        {portionNumber > 1 &&\r\n            <button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button>}\r\n\r\n        {pages\r\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map((p) => {\r\n\r\n                return <span className={ cn( {[styles.selectedPage]: requestedPage === p}, styles.pageNumber ) }\r\n                             key={p}\r\n                             onClick={(e) => {onPageChanged(p)}\r\n                        }>{p}</span>\r\n\r\n            })\r\n        }\r\n        { portionCount > portionNumber &&\r\n            <button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button>}\r\n\r\n    </div >)\r\n}\r\n\r\nexport default Paginator;\r\n\r\n/*\r\n    {pages.map(p => {\r\n        return <span className={requestedPage === p && styles.selectedPage}\r\n                     onClick={(e) => { onPageChanged(p) }}> {p}</span>\r\n    })}\r\n*/","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport userPhoto from './images/user.png';\r\nimport styles from './Users.module.css';\r\n\r\nlet User = ({ user, followingInProgress, unfollow, follow }) => {\r\n    return <div >\r\n\r\n        <div className={styles.userBlock}>\r\n            <span>\r\n                <div >\r\n                    <NavLink to={'/profile/' + user.id}>\r\n                        <img src={user.photos.small != null ? user.photos.small : userPhoto}\r\n                            className={styles.item}\r\n                            alt='userPhoto' /> {/* photoUrl */}\r\n                        {/*<textarea className={styles.textareaSize}\r\n                                        placeholder=' Write smth to user'\r\n                />*/}\r\n                    </NavLink>\r\n\r\n                </div>\r\n                <div className={styles.button}>\r\n                    {user.followed\r\n\r\n                        ? <button disabled={followingInProgress\r\n                            .some(id => id === user.id)}\r\n                            onClick={() => { unfollow(user.id) }}>\r\n                            Unfollow</button>\r\n\r\n                        : <button disabled={followingInProgress\r\n                            .some(id => id === user.id)}\r\n                            onClick={() => { follow(user.id); }}>\r\n                            Follow</button>\r\n                    }\r\n                </div>\r\n            </span>\r\n\r\n            <span>\r\n\r\n                <div>{user.name}</div> {/*userName*/}\r\n                <div>{user.status}</div>\r\n\r\n\r\n                <div>{\"user.location.country\"}</div>\r\n                <div>{\"user.location.city\"}</div>\r\n\r\n            </span>\r\n        </div>\r\n\r\n    </div>\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport styles from './Users.module.css';\r\nimport User from './User';\r\n\r\nlet Users = ({ requestedPage, totalItemsCount, pageSize, onPageChanged, usersData, ...props }) => {\r\n\r\n    return <div>\r\n\r\n        <Paginator requestedPage={requestedPage} onPageChanged={onPageChanged}\r\n            totalItemsCount={totalItemsCount} pageSize={pageSize} />\r\n        {/* totalItemsCount*/}\r\n\r\n        <div className={styles.usersPageBlock}>\r\n            {\r\n                usersData.map(u => <User user={u}\r\n                    followingInProgress={props.followingInProgress}\r\n                    key={u.id}\r\n                    follow={props.follow}\r\n                    unfollow={props.unfollow} />\r\n                )\r\n            }\r\n        </div>\r\n\r\n    </div >;\r\n}\r\n\r\nexport default Users;","import React from 'react';\r\nimport classes from './UserInfo.module.css';\r\n\r\nconst UserInfo = () => {\r\n  return <div className={classes.picture}>\r\n    \r\n    <img src='https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQhAuGtEUIzd1uz7lN6VC-_70yoZRGRXPbToQ&usqp=CAU' alt=\"user\" />\r\n\r\n  </div>\r\n\r\n}\r\n\r\nexport default UserInfo;","import { createSelector } from \"reselect\";\r\n\r\nexport const getUsersSelector = (state) => {\r\n    return state.usersPage.usersData;\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (usersData) => {\r\n    return usersData.filter(u => true);\r\n})\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getRequestedPage = (state) => {\r\n    return state.usersPage.requestedPage;\r\n}\r\n\r\nexport const getToggleIsFetching = (state) => {\r\n    return state.usersPage.toggleIsFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}\r\n/*\r\n        usersData: state.usersPage.usersData,\r\n        pageSize: state.usersPage.pageSize,\r\n        totalUsersCount: state.usersPage.totalUsersCount,\r\n        requestedPage: state.usersPage.requestedPage,\r\n        toggleIsFetching: state.usersPage.toggleIsFetching,\r\n        followingInProgress: state.usersPage.followingInProgress\r\n        */","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { follow, unfollow, setRequestedPage, toggleFollowingProgress, getUsersThunkCreator } from \"../../redux/users-reducer\";\r\n//import * as Axios from 'axios'; now it it in api.js\r\nimport Users from './Users';\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport UserInfo from './UsersInfo/UserInfo';\r\n//import { usersAPI } from '../../api/api'; // axios came through this.\r\nimport styles from './Users.module.css';\r\n//import { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\nimport {\r\n    getRequestedPage,\r\n    getFollowingInProgress,\r\n    getToggleIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers\r\n} from '../../redux/user-selectors';\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        let {requestedPage, pageSize} = this.props;\r\n        //if (this.props.usersData.length === 0) {}\r\n        this.props.getUsers(requestedPage, pageSize);\r\n\r\n        /*this.props.toggleIsFetching(true);\r\n\r\n        usersAPI.getUsers(this.props.RequestedPage, this.props.pageSize).then(data => {\r\n            this.props.toggleIsFetching(false);\r\n            this.props.setUsers(data.items);\r\n            this.props.setTotalUsersCount(data.totalCount);\r\n        });*/\r\n\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        const {pageSize} = this.props; //local restructuring helped to shorten next line of code\r\n        //this.props.getUsers(pageNumber, this.props.pageSize);\r\n        this.props.getUsers(pageNumber, pageSize);\r\n\r\n        /*this.props.setRequestedPage(pageNumber);\r\n        this.props.toggleIsFetching(true);\r\n        \r\n        usersAPI.getUsers(pageNumber, this.props.pageSize).then(data => {\r\n            this.props.toggleIsFetching(false);\r\n            this.props.setUsers(data.items);\r\n        });*/\r\n    }\r\n    //getUsers = () => {};\r\n    render() {\r\n\r\n        return <>\r\n\r\n            { this.props.toggleIsFetching ? <Preloader className={styles.preloader} /> : null}\r\n\r\n            <div>\r\n                <UserInfo />\r\n            </div>\r\n\r\n            <Users totalItemsCount={this.props.totalItemsCount}\r\n                pageSize={this.props.pageSize}\r\n                requestedPage={this.props.requestedPage}\r\n                onPageChanged={this.onPageChanged}\r\n                usersData={this.props.usersData}\r\n                follow={this.props.follow}\r\n                unfollow={this.props.unfollow}\r\n                //toggleFollowingProgress={this.props.toggleFollowingProgress}\r\n                followingInProgress={this.props.followingInProgress}\r\n\r\n            />\r\n\r\n        </>\r\n\r\n    }\r\n}\r\n\r\n/*let mapStateToProps = (state) => {\r\n    return {\r\n        //UsersPage: state.UsersPage,\r\n        usersData: state.usersPage.usersData,\r\n        pageSize: state.usersPage.pageSize,\r\n        totalUsersCount: state.usersPage.totalUsersCount,\r\n        RequestedPage: state.usersPage.RequestedPage,\r\n        toggleIsFetching: state.usersPage.toggleIsFetching,\r\n        followingInProgress: state.usersPage.followingInProgress\r\n\r\n    }\r\n}*/\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        usersData: getUsers(state),\r\n        //UsersPage: state.UsersPage,\r\n        //usersData: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalItemsCount: getTotalUsersCount(state),\r\n        requestedPage: getRequestedPage(state),\r\n        toggleIsFetching: getToggleIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    //withAuthRedirect,   //3 if I don't want this protection, then I just this line\r\n    connect(mapStateToProps, { follow, unfollow, setRequestedPage, toggleFollowingProgress, getUsers: getUsersThunkCreator }), //2\r\n)(UsersContainer)  //1\r\n\r\n//export default connect(mapStateToProps, mapDispatchToProps)(UsersContainer);\r\n\r\n//shorter version:\r\n/*3(2)      export default withAuthRedirect(connect(mapStateToProps, /*{\r\n\r\n        follow: followAC,\r\n        unfollow: unfollowAC,\r\n        setUsers: setUsersAC,\r\n        setRequestedPage: setRequestedPageAC,\r\n        setTotalUsersCount: setTotalUsersCountAC,\r\n        toggleIsFetching: toggleIsFetchingAC\r\n\r\n    }*/\r\n    //shorter version\r\n\r\n/*2 {\r\n     follow, unfollow, setRequestedPage,\r\n     toggleFollowingProgress,\r\n     getUsers: getUsersThunkCreator\r\n })(UsersContainer));\r\n\r\n/*\r\nlet mapDispatchToProps = (dispatch) => {\r\n return {\r\n     follow: (userId) => {\r\n         dispatch(followAC(userId))\r\n     },\r\n     unfollow: (userId) => {\r\n         dispatch(unfollowAC(userId))\r\n     },\r\n     setUsers: (usersData) => {\r\n         dispatch(setUsersAC(usersData))\r\n     },\r\n     setRequestedPage: (pageNumber) => {\r\n         dispatch(setRequestedPageAC(pageNumber))\r\n     },\r\n     setTotalUsersCount: (totalCount) => {\r\n         dispatch(setTotalUsersCountAC(totalCount))\r\n     },\r\n     toggleIsFetching: (isFetching) => {\r\n         dispatch(toggleIsFetchingAC(isFetching))\r\n     }\r\n }\r\n}\r\n*/","//import { stopSubmit } from \"redux-form\";\r\n//import { authAPI } from \"../api/api\";\r\nimport { getAuthUserData } from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n//actionCreators. AC abbreviation deleted at the end of words\r\nexport const initializedSuccess = () => ({ type: INITIALIZED_SUCCESS });\r\n//мы диспатчим именно экшны объекты \r\n\r\n//thunkCreator:\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    //dispatch(smth())\r\n    //dispatch(smth())\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(initializedSuccess());\r\n        })\r\n}\r\n\r\nexport default appReducer;","let initialState = {};\r\n\r\nconst sideBarReducer = (state = initialState, action) => {\r\n\r\n\r\n    return state;\r\n}\r\n\r\nexport default sideBarReducer;","import { applyMiddleware, combineReducers, createStore, compose } from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport  { reducer as formReducer } from 'redux-form';\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer, //same as profilePage: profileReducer,   means there is profilePage and profileReducer is responsible for it\r\n    dialogsPage: dialogsReducer,    //but can't read new shorter format for instant\r\n    usersPage: usersReducer,\r\n    sidebar: sidebarReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n\r\n});\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\nwindow.__store__ = store;\r\n\r\n//let store = createStore(reducers, applyMiddleware(thunkMiddleware))\r\nexport default store;","import React, { Suspense } from 'react';\r\n\r\n\r\nexport const withSuspense = (Component) => {\r\n\r\n    return (props) => {\r\n        return <Suspense fallback={<div>Loading...</div>}>\r\n            <Component {...props} />\r\n        </Suspense>\r\n    }\r\n}","import React from 'react';\r\nimport { compose } from 'redux';\r\nimport { Component } from 'react';\r\nimport { HashRouter, Route, withRouter } from 'react-router-dom';\r\nimport './App.css';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport LoginPage from './components/Login/Login';\r\nimport Music from './components/Music/Music';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport News from './components/News/News';\r\nimport Settings from './components/Settings/Settings';\r\nimport UsersContainer from './components/Users/UsersContainer';\r\nimport { connect, Provider } from 'react-redux';\r\nimport { initializeApp } from './redux/app-reducer';\r\n\r\nimport Preloader from './components/common/Preloader/Preloader';\r\nimport store from './redux/redux-store';\r\nimport { withSuspense } from './hoc/withSuspense';\r\n\r\n//import ProfileContainer from './components/Profile/ProfileContainer';\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\n//import DialogsContainer from './components/Dialogs/DialogsContainer';\r\n//import Dialogs from './components/Dialogs/Dialogs';\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\n\r\n\r\nclass App extends Component {\r\n\r\n  componentDidMount() {\r\n    this.props.initializeApp()\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.initialized) {\r\n      return <Preloader />\r\n    }\r\n\r\n    return (\r\n      <div className=\"app-wrapper\">\r\n        <HeaderContainer />\r\n        <Navbar />\r\n\r\n        <div className=\"app-wrapper-content\">\r\n          <Route path='/profile/:userId?'\r\n            render={ withSuspense(ProfileContainer) }\r\n          />\r\n\r\n          <Route path='/dialogs'\r\n            render={withSuspense(DialogsContainer)}\r\n          />\r\n\r\n          <Route path='/news' render={() => <News />} />\r\n          <Route path='/music' component={Music} />\r\n          <Route path='/users' render={() => <UsersContainer />} />\r\n          <Route path='/settings' component={Settings} />\r\n          <Route path='/login' render={() => <LoginPage />} />\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  initialized: state.app.initialized\r\n})\r\n\r\n//export default compose(\r\nlet AppContainer = compose(\r\n  withRouter,\r\n  connect(mapStateToProps, { initializeApp }))(App)\r\n\r\nconst SamuraiJSAp = (props) => {\r\n  return <HashRouter basename={process.env.PUBLIC_URL}>\r\n    <Provider store={store} >\r\n      <AppContainer />\r\n    </Provider>\r\n  </HashRouter>\r\n}\r\n\r\nexport default SamuraiJSAp;\r\n\r\n\r\n\r\n//store={props.store} don't need since we can pass by StoreContext API instead of props.\r\n          //profilePage = {props.state.profilePage}\r\n          //dispatch = {props.dispatch}\r\n\r\n//updateNewPostText={props.updateNewPostText} now is in dispatch together with  addPost\r\n\r\n//we don't need : state=props.state.dialogsPage since we have store.\r\n\r\n//store={props.store}\r\n          //dialogsPage = {props.state.dialogsPage}\r\n          //dispatch = {props.dispatch} \r\n\r\n/* <Route path='/profile' component={Profile} />\r\n          <Route path='/dialogs' component={Dialogs} /> */","import * as serviceWorker from './serviceWorker';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport SamuraiJSAp from './App';\r\n//import App from './App';\r\n//import store from './redux/redux-store';\r\n//import { BrowserRouter } from 'react-router-dom';\r\n//import {Provider} from './StoreContext'; instead of writing by ourself. we import from library that has same code:\r\n//import { Provider } from \"react-redux\"; //more or less same code is in StoreContext.\r\n\r\n//let rerenderEntireTree = () => {\r\nReactDOM.render(\r\n    <SamuraiJSAp/>, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n\r\n//we don't need subscribe and rerender when something is changed in state thanks to react-redux container:\r\n//with help of function connect\r\n//\r\n//}\r\n//rerenderEntireTree();\r\n//store.subscribe(() => {    \r\n//rerenderEntireTree();\r\n//let state = store.getState();//перезаписывает новые данные вместо старых данных  \r\n//});\r\n//\r\n\r\n\r\n//store.subscribe(rerenderEntireTree); замечает что произведено изменение данных( пользователь ввел текс)\r\n//но нету запроса на изменение данных. решается с помощью анонимной функции:","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__2PmwX\",\"error\":\"FormsControls_error__mLz25\",\"formsummaryError\":\"FormsControls_formsummaryError__m3C1K\"};","import React from 'react';\r\nimport styles from './FormsControls.module.css';\r\n\r\nlet FormControl = ({ input, meta: {touched, error}, children, ...props }) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            { hasError && <span>{error}</span> }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n} \r\n\r\n/*\r\nexport const Textarea = ({ input, meta, ...props }) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n            <div>\r\n                <textarea {...input} {...props} />\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Input = ({ input, meta, ...props }) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n            <div>\r\n                <input {...input} {...props} />\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\n*/","import React from 'react';\r\nimport preloader from \"../../../assets/images/preloader.svg\";\r\nimport style from \"./Preloader.module.css\";\r\n\r\n\r\nlet Preloader = (props) => {\r\n    return <div className={style.animation}>\r\n        <img src={preloader}\r\n            alt={preloader}\r\n        />\r\n    </div>\r\n}\r\n\r\nexport default Preloader;\r\n\r\n//style={ backgroundColor: 'red' }","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__1P39M\",\"pageNumber\":\"Paginator_pageNumber__2lbgx\"};","export const required = value => {\r\n    if (value) return undefined;\r\n    return \"'Field is required'\";\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n\r\n    return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1PYSA\",\"loginBlock\":\"Header_loginBlock__3FM2H\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.8414cf10.svg\";","import { usersAPI, profileAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD_POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\n\r\n//let sum = (a = -1 , b = 0 ) => {\r\n//  return a + b;}\r\n//sum(); \r\n//state is not defined so we need give something initial\r\n\r\nlet initialState = {\r\n    postsData: [\r\n        { id: 1, message: \"Hi, How is it going?\", likesCount: 11 },\r\n        { id: 2, message: \"Hi, How r u?\", likesCount: 12 }\r\n    ],\r\n    profile: null,\r\n    status: null\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 3,\r\n                message: action.newPostText,\r\n                likesCount: 0\r\n            };\r\n            //let stateCopy = {}\r\n            return {\r\n                ...state, //creating copy of initial state\r\n                postsData: [...state.postsData, newPost],\r\n                newPostText: ''\r\n\r\n            };\r\n            //state.postsData.push(newPost);\r\n            //stateCopy.postsData = [...state.postsData]; //creating new array which is equal to old array\r\n            //stateCopy.postsData.push(newPost); //and newPost will be pushed into copy array(newArray)\r\n            //state.newPostText = '';\r\n            //return state;\r\n            //stateCopy.newPostText = '';\r\n            //return stateCopy;\r\n        }\r\n\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state,\r\n                postsData: state.postsData.filter(p => p.id !== action.postId)\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\n//ActionCreators:\r\nexport const addPostActionCreator = (newPostText) => ({ type: ADD_POST, newPostText });\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile: profile });\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status: status });\r\nexport const deletePost = (postId) => ({ type: DELETE_POST, postId });\r\n\r\n//thunk:\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await usersAPI.getProfile(userId)\r\n    //.then(response => {\r\n    dispatch(setUserProfile(response.data))\r\n    //});\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatus(response.data))\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) { }\r\n    dispatch(setStatus(status))\r\n}\r\n\r\nexport default profileReducer;"],"sourceRoot":""}